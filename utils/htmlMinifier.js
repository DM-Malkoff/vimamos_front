/**
 * Минифицирует HTML-содержимое, удаляя лишние пробелы и переносы строк
 * @param {string} html - HTML-строка для минификации
 * @returns {string} - минифицированная HTML-строка
 */
export const minifyHtml = (html) => {
    if (!html || typeof html !== 'string') {
        return html;
    }
    
    return html
        // Удаляем переносы строк
        .replace(/\n/g, '')
        // Удаляем возврат каретки
        .replace(/\r/g, '')
        // Удаляем табуляцию
        .replace(/\t/g, '')
        // Удаляем лишние пробелы между тегами
        .replace(/>\s+</g, '><')
        // Удаляем пробелы после открывающих тегов
        .replace(/(<[^>]+>)\s+/g, '$1')
        // Удаляем пробелы перед закрывающими тегами
        .replace(/\s+(<\/[^>]+>)/g, '$1')
        // Удаляем пробелы в начале и конце строки
        .trim()
        // Убираем множественные пробелы внутри текста, оставляя одиночные
        .replace(/\s{2,}/g, ' ')
        // Удаляем пробелы вокруг знаков препинания (опционально)
        .replace(/\s*([,.;:!?])\s*/g, '$1 ')
        // Убираем лишние пробелы после знаков препинания
        .replace(/([,.;:!?])\s{2,}/g, '$1 ');
}; 